## 函数

```c
//定义，其中参数称为形式参数。形参也是变量。
type funcname(param1, param2, ...) {
	
}

//自定义函数在main函数之后，则需要进行函数原型说明
type funcname(param1, param2, ...);
```

## 函数调用

```c
//函数表达式
z = min(x, y);

//函数语句
printf("%d", a);
scanf("%d", &b);

//函数实参
max(z, min(x, y));
```

## 函数参数传递

**传值调用**

* 传值调用是把实参的值复制到函数的形参当中。
* 形参变量只在被调用时才分配内存空间，调用结束，即刻释放所分配的内存单元。
* 实参可以是常量、变量、表达式、函数等，但它们必须具有确定值。
* 实参和形参在数量上、类型上、顺序上应严格一致，否则错误。

**传值调用**

* 地址调用是将实参数据的存储地址作为参数传递给形参。
* 此时形参和实参占用同样的内存单元，函数中对形参的修改也会改变实参的值。
* 实现主调函数和被调函数间的双向数据传递。
* 通常形参定义为指针变量。

```c
void swap(int *x, int *y) {
	int temp;
	temp = *x;
	*x = *y;
	*y = temp;
}
```

## 函数与数组

数组名作为函数参数，要求形参和相对应的实参必须是类型相同的数组。在数组名作为函数参数传递时所进行的传递只是地址的传送，也就是说把实参数组的首地址赋给了形参数组名，等同于，形参数组和实参数组为同一数组，共同拥有一段内存空间。就像同一空间不同名称一样。

* 形参可以定义为指向数组类型的指针，传递后，指针指向实参数组。
* 形参数组和实参数组的长度可以不相同，因为调用时，只传递首地址而不检查形参数组的长度，所以我们可以不给出数组长度。

```c
void nzp(int a[]);
```

## 函数与指针

c中允许返回一个指针(地址)，返回指针值得函数称为**指针型函数**。

```c
char *rp(intx, inty) {
	return "hello";
}
```

## 指向函数的指针

c规定，一个函数总是占用一段连续的内存区，而函数名就是该函数所占内存区的首地址。我们可以给函数的这个首地址赋给指针变量，使该指针变量指向该函数。

```c
//函数指针变量声明，类型为函数返回值类型。
int (*p) ();

//调用
p = strlen;
(*p)("hello");
```

## 函数与结构

因为结构可以整体赋值，所以可以将结构作为值参数传递给函数，也可以定义返回结构的函数。

```c
//结构指针，传址调用
struct stu {
	int num;
	char *name;
	char sex;
	float score;
};
struct stu boy[5] = {{101, "Li ping", "M", 45}, {102, "Zhang ping", "M", 62.5}};
ave(boy);
void ave(struct stu *ps) {
	ps -> score
}
```

结构型函数就是返回结构变量的函数。

```c
struct point {
	int x, y;
}

point makePoint(intx, inty) {
	point p;
	p.x = x;
	p.y = y;
	return p;
}
makePoint(7, 2);
```

## 结构指针型函数

返回指向结构变量指针的函数称为结构指针型函数。结构型函数返回的是结构变量，函数返回时要携带结构变量的各个成员值，影响执行效率。而采用返回结构型指针就可以避免。

```c
struct complex *findMax(struct complex *p, int n);
```